# ============================================
# Telegram Bot 配置
# ============================================

# Bot Token (从 @BotFather 获取)
BOT_TOKEN=your_bot_token_here

# 管理员 ID (多个用逗号分隔)
ADMIN_IDS=123456789,987654321

# ============================================
# 频道配置
# ============================================

# 收集频道 ID (用于提取链接)
COLLECT_CHANNEL_ID=-1003241208550

# 存储频道 ID (用于存储数据)
STORAGE_CHANNEL_ID=-1003286651502

# 搜索群组 ID (用户可以在这里搜索)
SEARCH_GROUP_ID=8068014765

# ============================================
# UserBot 配置（可选，启用爬虫功能时需要）
# ============================================

# API ID 和 Hash (从 https://my.telegram.org 获取)
API_ID=12345678
API_HASH=your_api_hash_here

# 手机号码 (包含国际区号)
PHONE_NUMBER=+1234567890

# Session 名称
SESSION_NAME=crawler_session

# ============================================
# 爬虫开关
# ============================================

# 是否启用爬虫功能 (true/false)
CRAWLER_ENABLED=false

# ============================================
# 数据库配置
# ============================================

# 数据库文件路径
DATABASE_PATH=./data/channels.db

# ============================================
# 日志配置
# ============================================

# 日志级别 (DEBUG, INFO, WARNING, ERROR)
LOG_LEVEL=INFO

# ============================================
# 爬虫限制配置
# ============================================

# 每天最多爬取的频道数
MAX_CHANNELS_PER_DAY=10

# 爬取延迟范围（秒）
CRAWL_DELAY_MIN=10
CRAWL_DELAY_MAX=30

# ============================================
# 搜索配置
# ============================================

# 搜索结果顶部广告文字
SEARCH_AD_TEXT=💎 发现更多优质内容，关注我们的频道 @your_channel

# 是否启用广告 (true/false)
SEARCH_AD_ENABLED=true

# 每页显示结果数
RESULTS_PER_PAGE=10

# ============================================
# 频道验证配置 ⭐ 重要
# ============================================

# 每个频道验证的基础延迟（秒）
# 推荐值：
#   2.0 = 快速但可能触发限制
#   3.0 = 平衡（推荐）✅
#   5.0 = 非常安全，不着急时使用
CHANNEL_VERIFY_DELAY=3.0

# 随机延迟范围（秒）- 在基础延迟上随机增加 0 到此值的延迟
# 作用：让请求更自然，避免被识别为机器人
# 推荐值：
#   0.5 = 轻微随机
#   1.0 = 适中随机（推荐）✅
#   2.0 = 高度随机
CHANNEL_VERIFY_RANDOM_DELAY=1.0

# ============================================
# 存储频道发送配置 🛡️ 避免封禁
# ============================================

# 发送频道元信息到存储频道的基础延迟（秒）
# 作用：避免短时间内大量发送消息触发 Flood Control
# 推荐值：
#   1.0 = 快速（风险较低，自己频道）
#   2.0 = 平衡（推荐）✅
#   3.0 = 安全（不着急时使用）
STORAGE_SEND_DELAY=2.0

# 随机延迟范围（秒）
# 推荐值：
#   0.5 = 适中随机（推荐）✅
#   1.0 = 高度随机
STORAGE_SEND_RANDOM_DELAY=0.5

# ============================================
# Telegram API 速率限制配置
# ============================================

# 24 小时滚动窗口允许的 getChat 次数（默认 200 次）
API_DAILY_LIMIT=200

# 每批处理的频道数量（默认 5 个）
API_BATCH_SIZE=5

# 批次之间的等待时间（秒）—默认 5 ~ 15 分钟随机
API_BATCH_COOLDOWN_MIN=300
API_BATCH_COOLDOWN_MAX=900

# ============================================
# 配置说明
# ============================================
#
# 频道验证总延迟 = CHANNEL_VERIFY_DELAY + random(0, CHANNEL_VERIFY_RANDOM_DELAY)
# 存储发送总延迟 = STORAGE_SEND_DELAY + random(0, STORAGE_SEND_RANDOM_DELAY)
#
# 示例 1：频道验证
#   CHANNEL_VERIFY_DELAY=3.0
#   CHANNEL_VERIFY_RANDOM_DELAY=1.0
#   → 实际延迟：3.0 ~ 4.0 秒（随机）
#
# 示例 2：存储发送
#   STORAGE_SEND_DELAY=2.0
#   STORAGE_SEND_RANDOM_DELAY=0.5
#   → 实际延迟：2.0 ~ 2.5 秒（随机）
#
# 完整流程时间计算（50 个新频道）：
#   验证延迟：50 × 3.5秒 = 175秒 = 3分钟
#   发送延迟：50 × 2.25秒 = 112秒 = 2分钟
#   总计：约 5 分钟
#
# 如果你不着急（推荐配置）：
#   CHANNEL_VERIFY_DELAY=5.0
#   CHANNEL_VERIFY_RANDOM_DELAY=2.0
#   STORAGE_SEND_DELAY=3.0
#   STORAGE_SEND_RANDOM_DELAY=1.0
#   → 50 个频道约需 8-10 分钟
#   → 100% 不会触发速率限制 ✅
#
